From 2ec3aa0eb3fb849cacaa714db5ea4072703391e7 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?I=C3=B1aki=20=C3=9Acar?= <iucar@fedoraproject.org>
Date: Tue, 22 Mar 2022 23:09:42 +0100
Subject: [PATCH] disable quarto

---
 CMakeGlobals.txt                     | 11 ++---------
 src/cpp/session/session-options.json |  2 +-
 2 files changed, 3 insertions(+), 10 deletions(-)

diff --git a/CMakeGlobals.txt b/CMakeGlobals.txt
index de77b8d..5878741 100644
--- a/CMakeGlobals.txt
+++ b/CMakeGlobals.txt
@@ -217,15 +217,8 @@ endif()
 set(PANDOC_VERSION "2.16.2" CACHE INTERNAL "Pandoc version")
 
 # quarto support
-if(LINUX AND UNAME_M STREQUAL aarch64)
-   # disabled on linux aarch64
-   message(STATUS "quarto does not yet support aarch64 builds of Linux; disabling quarto")
-   set(QUARTO_ENABLED FALSE CACHE INTERNAL "")
-else()
-   # enable by default
-   set(QUARTO_ENABLED TRUE CACHE INTERNAL "")
-   add_definitions(-DQUARTO_ENABLED)
-endif()
+message(STATUS "disabling quarto")
+set(QUARTO_ENABLED FALSE CACHE INTERNAL "")
 
 # install freedesktop integration files if we are installing into /usr
 if(NOT DEFINED RSTUDIO_INSTALL_FREEDESKTOP)
diff --git a/src/cpp/session/session-options.json b/src/cpp/session/session-options.json
index c361250..34c1c36 100644
--- a/src/cpp/session/session-options.json
+++ b/src/cpp/session/session-options.json
@@ -694,7 +694,7 @@
             "name": "external-pandoc-path",
             "type": "core::FilePath",
             "memberName": "pandocPath_",
-            "defaultValue": {"code": "kDefaultPandocPath", "description": "bin/quarto/bin"},
+            "defaultValue": {"code": "kDefaultPandocPath", "description": "bin/pandoc"},
             "description": "Specifies the path to pandoc binaries."
          },
          {
-- 
2.31.1

